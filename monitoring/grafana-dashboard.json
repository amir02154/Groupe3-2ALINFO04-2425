{
  "dashboard": {
    "title": "Application Monitoring Dashboard",
    "timezone": "browser",
    "schemaVersion": 30,
    "version": 1,
    "refresh": "30s",
    "panels": [
      {
        "type": "timeseries",
        "title": "‚è±Ô∏è Temps de r√©ponse HTTP (ms)",
        "datasource": "Prometheus",
        "targets": [
          {
            "expr": "http_server_requests_seconds_sum / http_server_requests_seconds_count",
            "legendFormat": "{{method}} {{uri}}",
            "interval": "",
            "refId": "A"
          }
        ],
        "gridPos": { "x": 0, "y": 0, "w": 12, "h": 8 }
      },
      {
        "type": "timeseries",
        "title": "üö¶ Taux d‚Äôerreur HTTP",
        "datasource": "Prometheus",
        "targets": [
          {
            "expr": "sum(rate(http_server_requests_seconds_count{status=~\"5..\"}[1m]))",
            "legendFormat": "5xx errors",
            "refId": "A"
          }
        ],
        "gridPos": { "x": 12, "y": 0, "w": 12, "h": 8 }
      },
      {
        "type": "timeseries",
        "title": "üíæ Utilisation de la m√©moire (JVM)",
        "datasource": "Prometheus",
        "targets": [
          {
            "expr": "jvm_memory_used_bytes / jvm_memory_max_bytes * 100",
            "legendFormat": "M√©moire utilis√©e (%)",
            "refId": "A"
          }
        ],
        "gridPos": { "x": 0, "y": 8, "w": 12, "h": 8 }
      },
      {
        "type": "timeseries",
        "title": "üî• CPU (machine)",
        "datasource": "Prometheus",
        "targets": [
          {
            "expr": "100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[1m])) * 100)",
            "legendFormat": "{{instance}}",
            "refId": "A"
          }
        ],
        "gridPos": { "x": 12, "y": 8, "w": 12, "h": 8 }
      },
      {
        "type": "timeseries",
        "title": "üìà TPS - Transactions par seconde",
        "datasource": "Prometheus",
        "targets": [
          {
            "expr": "sum(rate(http_server_requests_seconds_count[1m]))",
            "legendFormat": "TPS",
            "refId": "A"
          }
        ],
        "gridPos": { "x": 0, "y": 16, "w": 24, "h": 8 }
      }
    ]
  },
  "overwrite": true
}
